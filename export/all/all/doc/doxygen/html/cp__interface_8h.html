<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>CryptoProcessorAPI: cp_interface.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1>cp_interface.h File Reference</h1><code>#include &lt;stdint.h&gt;</code><br>

<p>
<a href="cp__interface_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__cpi__t.html">_cpi_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CPI instance.  <a href="struct__cpi__t.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__cpi__info__t.html">_cpi_info_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CPI information.  <a href="struct__cpi__info__t.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">CPI sizes, in bytes</div></td></tr>
<tr><td colspan="2"><div class="groupText"><br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#3c72ea603881824ceb6531b3df2d6894">CPI_MAX_RESULT_SIZE</a>&nbsp;&nbsp;&nbsp;0x1000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#6da7f16371b3753e40d146558a1bb5ed">CPI_PUTATIVE_ID_SIZE</a>&nbsp;&nbsp;&nbsp;0x0025</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#0cffe8c8d1f26768fa1ca4915bef700d">CPI_VERSION_SIZE</a>&nbsp;&nbsp;&nbsp;0x0006</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#3a3e47b5d560848bb57db93707177d39">CPI_SERIAL_NUMBER_SIZE</a>&nbsp;&nbsp;&nbsp;0x0010</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#24dc396a23adfc4531132c54902df37b">CPI_HARDWARE_VERSION_SIZE</a>&nbsp;&nbsp;&nbsp;0x0010</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#4d4205a6bcf02ce0a3d00d508d05edc8">CPI_HPIDX_SIZE</a>&nbsp;&nbsp;&nbsp;0x0014</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#f25db6963b5fd902eaeb147e2125c1f6">CPI_RNDX_SIZE</a>&nbsp;&nbsp;&nbsp;0x0010</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#587470b56f5af01c5ddc81b001d439f0">CPI_RESULT1_SIZE</a>&nbsp;&nbsp;&nbsp;0x0114</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#e7c023ca53725dc04edc21a897933d04">CPI_RESULT1_ENC_OK_SIZE</a>&nbsp;&nbsp;&nbsp;0x0100</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#f28f2c1f856b0f6a01363370db2db623">CPI_RESULT1_RAND_SIZE</a>&nbsp;&nbsp;&nbsp;0x0010</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#10f7a6d956724a681c0fe142b97d57bd">CPI_RESULT1_VERS_SIZE</a>&nbsp;&nbsp;&nbsp;0x0004</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#059f178d53512ba07ebb3d9a970566ca">CPI_RESULT2_SIZE</a>&nbsp;&nbsp;&nbsp;0x0080</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#5db8a9b16e25fcaa24646ed8df15d2dc">CPI_RESULT3_SIZE</a>&nbsp;&nbsp;&nbsp;(416)</td></tr>

<tr><td colspan="2"><div class="groupHeader">CPI return codes</div></td></tr>
<tr><td colspan="2"><div class="groupText"><br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#26f392282ee4675f64ab90676b420c6f">CPI_OK</a>&nbsp;&nbsp;&nbsp;0x0000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#110e43b01bc3c00673ea8facec6df0e9">CPI_FAIL</a>&nbsp;&nbsp;&nbsp;0x0001</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#fb3fbe570bf27d35eb1e477e8644d391">CPI_NOTIMPL</a>&nbsp;&nbsp;&nbsp;0x0002</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#83001df32d47313315829ea6f5235e72">CPI_INVALID_PARAM</a>&nbsp;&nbsp;&nbsp;0x0003</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#974db51e974448aba3eda69e78fccc1b">CPI_OUT_OF_MEMORY</a>&nbsp;&nbsp;&nbsp;0x0004</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#c1ebf618adcfc39345b9e96a39d7ea9e">CPI_ACCESS_DENIED</a>&nbsp;&nbsp;&nbsp;0x0005</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#06020bd7da1bc4bdc0b868f952830210">CPI_INVALID_CALL</a>&nbsp;&nbsp;&nbsp;0x0006</td></tr>

<tr><td colspan="2"><div class="groupHeader">CPI return code helper functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#c8db726433128badec5e34201a4ffd01">CPI_SUCCESS</a>(x)&nbsp;&nbsp;&nbsp;(x == CPI_OK)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#2dea781453b270834d5261acc3b03d9d">CPI_FAILED</a>(x)&nbsp;&nbsp;&nbsp;(x != CPI_OK)</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="struct__cpi__t.html">_cpi_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#d7c8b76733fb75a552dbfa28c00fd9bd">cpi_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CPI instance.  <a href="#d7c8b76733fb75a552dbfa28c00fd9bd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <br>
<a class="el" href="struct__cpi__info__t.html">_cpi_info_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#fd593c48d4dc27b57be1229ffb38f93a">cpi_info_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CPI information.  <a href="#fd593c48d4dc27b57be1229ffb38f93a"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#9bf40cf2960f01f641180de4432384ee">cpi_create</a> (struct <a class="el" href="struct__cpi__info__t.html">_cpi_info_t</a> *p_cpi_info, struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> **pp_cpi)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#0715cf1a8988cca0f18fad0e63524b5a">cpi_close</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#ed923f693ade6058584edd67777a8254">cpi_init</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi, char *serial_device_path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#aff2cc71438b8089bdedd5c0324656d2">cpi_process_xml</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi, char *inp_xml_str, char *out_xml_str)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#5c70c8f1a1399d02d67e1409c1d56a89">cpi_get_putative_id</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi, uint16_t cpi_key_id, char *str)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#01598a74303c82eaf5ff7ad49b7f6c1e">cpi_get_public_key</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi, uint16_t cpi_key_id, char *str)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#f79afb4216561b9dede5f9a2f441482d">cpi_get_version_data</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi, uint8_t *raw_vers)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#e2d4055a45d8053a6862464c9cb6c8f8">cpi_get_version_number</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi, uint16_t *p_vers_major, uint16_t *p_vers_minor, uint16_t *p_vers_fix)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#9f1df6104058a80adbf069b72f9c115f">cpi_set_alarm_time</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi, uint32_t alarm_time)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#702d0fcff44f94f0c03401c9612f6566">cpi_trigger_power_down</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#62189dc66f6dd72de5e331a18dff1800">cpi_trigger_reset</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#a36eca382e7d07af23bacbc931ddcb0e">cpi_get_current_time</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi, uint32_t *p_cur_time)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#25638dd0f7efcd6c6856ff14f9095adb">cpi_get_owner_key_index</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi, uint32_t *p_oki)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#71e67778f93773e07e617e3b4d1d95e7">cpi_get_serial_number</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi, uint8_t *raw_serial)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#73173e58f56e7bca0b2944e11fd2ff2b">cpi_get_hardware_version_data</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi, uint8_t *raw_hard_vers)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#07199163bd28f7adb7b0a8d316dc8b30">cpi_issue_challenge</a> (struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *p_cpi, uint16_t cpi_key_id, uint8_t *rand_data, uint8_t *result1, uint8_t *result2, uint8_t *result3)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">CPI return code lookup table, for convienence</div></td></tr>
<tr><td colspan="2"><div class="groupText"><br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cp__interface_8h.html#29623b52f983e2b1f2c4b592bedab310">CPI_RETURN_CODE_LOOKUP</a> [0x07]</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="c1ebf618adcfc39345b9e96a39d7ea9e"></a><!-- doxytag: member="cp_interface.h::CPI_ACCESS_DENIED" ref="c1ebf618adcfc39345b9e96a39d7ea9e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_ACCESS_DENIED&nbsp;&nbsp;&nbsp;0x0005          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Access denied 
</div>
</div><p>
<a class="anchor" name="110e43b01bc3c00673ea8facec6df0e9"></a><!-- doxytag: member="cp_interface.h::CPI_FAIL" ref="110e43b01bc3c00673ea8facec6df0e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_FAIL&nbsp;&nbsp;&nbsp;0x0001          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generic failure 
</div>
</div><p>
<a class="anchor" name="2dea781453b270834d5261acc3b03d9d"></a><!-- doxytag: member="cp_interface.h::CPI_FAILED" ref="2dea781453b270834d5261acc3b03d9d" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_FAILED          </td>
          <td>(</td>
          <td class="paramtype">x&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(x != CPI_OK)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Detect failure error code 
</div>
</div><p>
<a class="anchor" name="24dc396a23adfc4531132c54902df37b"></a><!-- doxytag: member="cp_interface.h::CPI_HARDWARE_VERSION_SIZE" ref="24dc396a23adfc4531132c54902df37b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_HARDWARE_VERSION_SIZE&nbsp;&nbsp;&nbsp;0x0010          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
16 bytes, raw binary data 
</div>
</div><p>
<a class="anchor" name="4d4205a6bcf02ce0a3d00d508d05edc8"></a><!-- doxytag: member="cp_interface.h::CPI_HPIDX_SIZE" ref="4d4205a6bcf02ce0a3d00d508d05edc8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_HPIDX_SIZE&nbsp;&nbsp;&nbsp;0x0014          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
20 bytes, raw binary data 
</div>
</div><p>
<a class="anchor" name="06020bd7da1bc4bdc0b868f952830210"></a><!-- doxytag: member="cp_interface.h::CPI_INVALID_CALL" ref="06020bd7da1bc4bdc0b868f952830210" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_INVALID_CALL&nbsp;&nbsp;&nbsp;0x0006          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Invalid call 
</div>
</div><p>
<a class="anchor" name="83001df32d47313315829ea6f5235e72"></a><!-- doxytag: member="cp_interface.h::CPI_INVALID_PARAM" ref="83001df32d47313315829ea6f5235e72" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_INVALID_PARAM&nbsp;&nbsp;&nbsp;0x0003          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Invalid parameter 
</div>
</div><p>
<a class="anchor" name="3c72ea603881824ceb6531b3df2d6894"></a><!-- doxytag: member="cp_interface.h::CPI_MAX_RESULT_SIZE" ref="3c72ea603881824ceb6531b3df2d6894" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_MAX_RESULT_SIZE&nbsp;&nbsp;&nbsp;0x1000          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
4096 bytes, <dl compact><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>finalize this max </dd></dl>

</div>
</div><p>
<a class="anchor" name="fb3fbe570bf27d35eb1e477e8644d391"></a><!-- doxytag: member="cp_interface.h::CPI_NOTIMPL" ref="fb3fbe570bf27d35eb1e477e8644d391" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_NOTIMPL&nbsp;&nbsp;&nbsp;0x0002          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Functionality not implemented 
</div>
</div><p>
<a class="anchor" name="26f392282ee4675f64ab90676b420c6f"></a><!-- doxytag: member="cp_interface.h::CPI_OK" ref="26f392282ee4675f64ab90676b420c6f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_OK&nbsp;&nbsp;&nbsp;0x0000          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Success! 
</div>
</div><p>
<a class="anchor" name="974db51e974448aba3eda69e78fccc1b"></a><!-- doxytag: member="cp_interface.h::CPI_OUT_OF_MEMORY" ref="974db51e974448aba3eda69e78fccc1b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_OUT_OF_MEMORY&nbsp;&nbsp;&nbsp;0x0004          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Out of memory 
</div>
</div><p>
<a class="anchor" name="6da7f16371b3753e40d146558a1bb5ed"></a><!-- doxytag: member="cp_interface.h::CPI_PUTATIVE_ID_SIZE" ref="6da7f16371b3753e40d146558a1bb5ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_PUTATIVE_ID_SIZE&nbsp;&nbsp;&nbsp;0x0025          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
37 bytes, includes null terminator 
</div>
</div><p>
<a class="anchor" name="e7c023ca53725dc04edc21a897933d04"></a><!-- doxytag: member="cp_interface.h::CPI_RESULT1_ENC_OK_SIZE" ref="e7c023ca53725dc04edc21a897933d04" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_RESULT1_ENC_OK_SIZE&nbsp;&nbsp;&nbsp;0x0100          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
256 bytes, raw binary data, holds encrypted owner key result 
</div>
</div><p>
<a class="anchor" name="f28f2c1f856b0f6a01363370db2db623"></a><!-- doxytag: member="cp_interface.h::CPI_RESULT1_RAND_SIZE" ref="f28f2c1f856b0f6a01363370db2db623" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_RESULT1_RAND_SIZE&nbsp;&nbsp;&nbsp;0x0010          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
16 bytes, raw binary data, holds "Rm" random data 
</div>
</div><p>
<a class="anchor" name="587470b56f5af01c5ddc81b001d439f0"></a><!-- doxytag: member="cp_interface.h::CPI_RESULT1_SIZE" ref="587470b56f5af01c5ddc81b001d439f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_RESULT1_SIZE&nbsp;&nbsp;&nbsp;0x0114          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
276 bytes, raw binary data, holds encrypted owner key, "Rm", and 4 byte version data 
</div>
</div><p>
<a class="anchor" name="10f7a6d956724a681c0fe142b97d57bd"></a><!-- doxytag: member="cp_interface.h::CPI_RESULT1_VERS_SIZE" ref="10f7a6d956724a681c0fe142b97d57bd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_RESULT1_VERS_SIZE&nbsp;&nbsp;&nbsp;0x0004          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
4 bytes, raw binary data, holds 4 byte version data 
</div>
</div><p>
<a class="anchor" name="059f178d53512ba07ebb3d9a970566ca"></a><!-- doxytag: member="cp_interface.h::CPI_RESULT2_SIZE" ref="059f178d53512ba07ebb3d9a970566ca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_RESULT2_SIZE&nbsp;&nbsp;&nbsp;0x0080          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
128 bytes, raw binary data, holds signature result 
</div>
</div><p>
<a class="anchor" name="5db8a9b16e25fcaa24646ed8df15d2dc"></a><!-- doxytag: member="cp_interface.h::CPI_RESULT3_SIZE" ref="5db8a9b16e25fcaa24646ed8df15d2dc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_RESULT3_SIZE&nbsp;&nbsp;&nbsp;(416)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
416 bytes, raw binary data, holds hash result, rounded to nearest block length 
</div>
</div><p>
<a class="anchor" name="f25db6963b5fd902eaeb147e2125c1f6"></a><!-- doxytag: member="cp_interface.h::CPI_RNDX_SIZE" ref="f25db6963b5fd902eaeb147e2125c1f6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_RNDX_SIZE&nbsp;&nbsp;&nbsp;0x0010          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
16 bytes, raw binary data 
</div>
</div><p>
<a class="anchor" name="3a3e47b5d560848bb57db93707177d39"></a><!-- doxytag: member="cp_interface.h::CPI_SERIAL_NUMBER_SIZE" ref="3a3e47b5d560848bb57db93707177d39" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_SERIAL_NUMBER_SIZE&nbsp;&nbsp;&nbsp;0x0010          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
16 bytes, raw binary data 
</div>
</div><p>
<a class="anchor" name="c8db726433128badec5e34201a4ffd01"></a><!-- doxytag: member="cp_interface.h::CPI_SUCCESS" ref="c8db726433128badec5e34201a4ffd01" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_SUCCESS          </td>
          <td>(</td>
          <td class="paramtype">x&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(x == CPI_OK)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Detect success error code 
</div>
</div><p>
<a class="anchor" name="0cffe8c8d1f26768fa1ca4915bef700d"></a><!-- doxytag: member="cp_interface.h::CPI_VERSION_SIZE" ref="0cffe8c8d1f26768fa1ca4915bef700d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPI_VERSION_SIZE&nbsp;&nbsp;&nbsp;0x0006          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
6 bytes, raw binary data 
</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="fd593c48d4dc27b57be1229ffb38f93a"></a><!-- doxytag: member="cp_interface.h::cpi_info_t" ref="fd593c48d4dc27b57be1229ffb38f93a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__cpi__info__t.html">_cpi_info_t</a>
 <a class="el" href="struct__cpi__info__t.html">cpi_info_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
CPI information. 
<p>
This structure should be passed to <a class="el" href="cp__interface_8h.html#9bf40cf2960f01f641180de4432384ee">cpi_create()</a> in order to initialize a CPI instance. 
</div>
</div><p>
<a class="anchor" name="d7c8b76733fb75a552dbfa28c00fd9bd"></a><!-- doxytag: member="cp_interface.h::cpi_t" ref="d7c8b76733fb75a552dbfa28c00fd9bd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__cpi__t.html">_cpi_t</a>
 <a class="el" href="struct__cpi__t.html">cpi_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
CPI instance. 
<p>
This structure represents an instance of the CPI. 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="0715cf1a8988cca0f18fad0e63524b5a"></a><!-- doxytag: member="cp_interface.h::cpi_close" ref="0715cf1a8988cca0f18fad0e63524b5a" args="(struct _cpi_t *p_cpi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_close           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes an instance of the Crypto Processor Interface.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="9bf40cf2960f01f641180de4432384ee"></a><!-- doxytag: member="cp_interface.h::cpi_create" ref="9bf40cf2960f01f641180de4432384ee" args="(struct _cpi_info_t *p_cpi_info, struct _cpi_t **pp_cpi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_create           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__info__t.html">_cpi_info_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> **&nbsp;</td>
          <td class="paramname"> <em>pp_cpi</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create an instance of the Crypto Processor Interface.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi_info</em>&nbsp;</td><td>(INP) - CPI Info used to initialize CPI instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pp_cpi</em>&nbsp;</td><td>(OUT) - Pointer to CPI instance </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="a36eca382e7d07af23bacbc931ddcb0e"></a><!-- doxytag: member="cp_interface.h::cpi_get_current_time" ref="a36eca382e7d07af23bacbc931ddcb0e" args="(struct _cpi_t *p_cpi, uint32_t *p_cur_time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_get_current_time           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>p_cur_time</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve current time, in seconds, since last CP reboot.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_cur_time</em>&nbsp;</td><td>(OUT) - Time, in seconds, since last CP reboot. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="73173e58f56e7bca0b2944e11fd2ff2b"></a><!-- doxytag: member="cp_interface.h::cpi_get_hardware_version_data" ref="73173e58f56e7bca0b2944e11fd2ff2b" args="(struct _cpi_t *p_cpi, uint8_t *raw_hard_vers)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_get_hardware_version_data           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>raw_hard_vers</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the hardware version data of the attached core unit.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>raw_hard_vers</em>&nbsp;</td><td>(OUT) - Buffer at least CPI_HARDWARE_VERSION_SIZE bytes in size. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="25638dd0f7efcd6c6856ff14f9095adb"></a><!-- doxytag: member="cp_interface.h::cpi_get_owner_key_index" ref="25638dd0f7efcd6c6856ff14f9095adb" args="(struct _cpi_t *p_cpi, uint32_t *p_oki)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_get_owner_key_index           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>p_oki</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve the current owner key index.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_oki</em>&nbsp;</td><td>(OUT) - Current owner key index. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="01598a74303c82eaf5ff7ad49b7f6c1e"></a><!-- doxytag: member="cp_interface.h::cpi_get_public_key" ref="01598a74303c82eaf5ff7ad49b7f6c1e" args="(struct _cpi_t *p_cpi, uint16_t cpi_key_id, char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_get_public_key           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>cpi_key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the public key.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cpi_key_id</em>&nbsp;</td><td>(INP) - CPI Key ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>(OUT) - ASCII buffer at least CPI_MAX_RESULT_SIZE bytes in size. Format is RFC2440 section 5.5.2-compliant version 3 public key subkey packet </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="5c70c8f1a1399d02d67e1409c1d56a89"></a><!-- doxytag: member="cp_interface.h::cpi_get_putative_id" ref="5c70c8f1a1399d02d67e1409c1d56a89" args="(struct _cpi_t *p_cpi, uint16_t cpi_key_id, char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_get_putative_id           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>cpi_key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the putative ID of the specified key.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cpi_key_id</em>&nbsp;</td><td>(INP) - CPI Key ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>(OUT) - ASCII buffer at least CPI_PUTATIVE_ID_SIZE bytes in size. Format is ASCII GUID format (e.g. "01234567-89AB-CDEF-0123-456789ABCDEF") </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="71e67778f93773e07e617e3b4d1d95e7"></a><!-- doxytag: member="cp_interface.h::cpi_get_serial_number" ref="71e67778f93773e07e617e3b4d1d95e7" args="(struct _cpi_t *p_cpi, uint8_t *raw_serial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_get_serial_number           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>raw_serial</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the serial number of the CP.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>raw_serial</em>&nbsp;</td><td>(OUT) - Buffer at least CPI_SERIAL_NUMBER_SIZE bytes in size. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="f79afb4216561b9dede5f9a2f441482d"></a><!-- doxytag: member="cp_interface.h::cpi_get_version_data" ref="f79afb4216561b9dede5f9a2f441482d" args="(struct _cpi_t *p_cpi, uint8_t *raw_vers)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_get_version_data           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>raw_vers</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the raw version data of the CP.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>raw_vers</em>&nbsp;</td><td>(OUT) - Buffer at least CPI_VERSION_SIZE bytes in size. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="e2d4055a45d8053a6862464c9cb6c8f8"></a><!-- doxytag: member="cp_interface.h::cpi_get_version_number" ref="e2d4055a45d8053a6862464c9cb6c8f8" args="(struct _cpi_t *p_cpi, uint16_t *p_vers_major, uint16_t *p_vers_minor, uint16_t *p_vers_fix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_get_version_number           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&nbsp;</td>
          <td class="paramname"> <em>p_vers_major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&nbsp;</td>
          <td class="paramname"> <em>p_vers_minor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&nbsp;</td>
          <td class="paramname"> <em>p_vers_fix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the version number of the CP.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_vers_major</em>&nbsp;</td><td>(OUT) - Version "major" component. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_vers_minor</em>&nbsp;</td><td>(OUT) - Version "minor" component. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_vers_fix</em>&nbsp;</td><td>(OUT) - Version "fix" component. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="ed923f693ade6058584edd67777a8254"></a><!-- doxytag: member="cp_interface.h::cpi_init" ref="ed923f693ade6058584edd67777a8254" args="(struct _cpi_t *p_cpi, char *serial_device_path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_init           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>serial_device_path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize an instance of the Crypto Processor Interface. Must be called before any other API calls, aside from cpi_create and cpi_close.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>serial_device_path</em>&nbsp;</td><td>(INP) - Path to proper serial device (e.g. "/dev/ttyS2") </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="07199163bd28f7adb7b0a8d316dc8b30"></a><!-- doxytag: member="cp_interface.h::cpi_issue_challenge" ref="07199163bd28f7adb7b0a8d316dc8b30" args="(struct _cpi_t *p_cpi, uint16_t cpi_key_id, uint8_t *rand_data, uint8_t *result1, uint8_t *result2, uint8_t *result3)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_issue_challenge           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>cpi_key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>rand_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>result1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>result2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>result3</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Issue a challenge to the CP.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cpi_key_id</em>&nbsp;</td><td>(INP) - CPI Key ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rand_data</em>&nbsp;</td><td>(INP) - Raw random binary data CPI_RNDX_SIZE bytes in size. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result1</em>&nbsp;</td><td>(OUT) - Buffer at least CPI_RESULT1_SIZE bytes in size, which holds result 1. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result2</em>&nbsp;</td><td>(OUT) - Buffer at least CPI_RESULT2_SIZE bytes in size, which holds result 2. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="aff2cc71438b8089bdedd5c0324656d2"></a><!-- doxytag: member="cp_interface.h::cpi_process_xml" ref="aff2cc71438b8089bdedd5c0324656d2" args="(struct _cpi_t *p_cpi, char *inp_xml_str, char *out_xml_str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_process_xml           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>inp_xml_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>out_xml_str</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process the specified XML command, and return the result in XML.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>inp_xml_str</em>&nbsp;</td><td>(INP) - XML input string (&lt;= CPI_MAX_RESULT_SIZE bytes, including null terminator) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out_xml_str</em>&nbsp;</td><td>(OUT) - XML output string (&gt;= CPI_MAX_RESULT_SIZE bytes, including null terminator) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="9f1df6104058a80adbf069b72f9c115f"></a><!-- doxytag: member="cp_interface.h::cpi_set_alarm_time" ref="9f1df6104058a80adbf069b72f9c115f" args="(struct _cpi_t *p_cpi, uint32_t alarm_time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_set_alarm_time           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>alarm_time</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Trigger power down of system using the CP.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>alarm_time</em>&nbsp;</td><td>(INP) - Time, in seconds, to trigger alarm (relative to cpi_get_current_time). </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="702d0fcff44f94f0c03401c9612f6566"></a><!-- doxytag: member="cp_interface.h::cpi_trigger_power_down" ref="702d0fcff44f94f0c03401c9612f6566" args="(struct _cpi_t *p_cpi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_trigger_power_down           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Trigger power down of system using the CP.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<a class="anchor" name="62189dc66f6dd72de5e331a18dff1800"></a><!-- doxytag: member="cp_interface.h::cpi_trigger_reset" ref="62189dc66f6dd72de5e331a18dff1800" args="(struct _cpi_t *p_cpi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpi_trigger_reset           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cpi__t.html">_cpi_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cpi</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Trigger reset of system using the CP.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_cpi</em>&nbsp;</td><td>(INP) - CPI instance </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>CPI_OK for success, otherwise CPI_ error code </dd></dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="29623b52f983e2b1f2c4b592bedab310"></a><!-- doxytag: member="cp_interface.h::CPI_RETURN_CODE_LOOKUP" ref="29623b52f983e2b1f2c4b592bedab310" args="[0x07]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="cp__interface_8h.html#29623b52f983e2b1f2c4b592bedab310">CPI_RETURN_CODE_LOOKUP</a>[0x07]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>
Generated on $Date$ for CryptoProcessorAPI by&nbsp;<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a></small></address>
</body>
</html>
